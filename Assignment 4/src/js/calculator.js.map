{"version":3,"sources":["calculator.js"],"names":["Req_ajax","$","ajax","data","info","document","getElementById","innerHTML","type","url","OL_Action_Root","dataType","cache","timeout","success","e","n","clearOverflow","NaN","error","i","alert","autoFill","isFunc","tempOpr","oriOpr","clearFunc","isPow","isLev","isRot","tempPow","rootSolve","expSolve","charAt","isExp","input","isNaN","isNew","isEnd","isDeg","isOpr","substr","indexOf","length","Math","trunc","includes","isFinite","r","replace","s","t","style","fontSize","scrollWidth","clientWidth","scrollHeight","clientHeight"],"mappings":"AAAA,aAAA,SAAAA,WAAAC,EAAAC,MAAAC,MAAAC,KAAAC,SAAAC,eAAA,cAAAC,UAAAC,KAAA,QAAAC,IAAAC,eAAA,WAAAC,SAAA,OAAAC,OAAA,EAAAC,QAAA,IAAAL,KAAA,OAAAM,QAAA,SAAAC,GAAA,IAAAC,EAAAD,EAAA,WAAAC,EAAA,IAAAX,SAAAC,eAAA,UAAAC,UAAAS,EAAA,GAAAC,iBAAA,OAAAD,EAAA,GAAAX,SAAAC,eAAA,UAAAC,UAAAW,IAAAb,SAAAC,eAAA,UAAAC,UAAA,WAAAY,MAAA,SAAAJ,EAAAC,EAAAI,GAAAf,SAAAC,eAAA,UAAAC,UAAA,UAAAc,MAAA,qDAAA,SAAAC,WAAA,IAAA,IAAAP,EAAAV,SAAAC,eAAA,cAAAiB,OAAA,IAAAA,OAAAR,EAAAR,WAAA,IAAAiB,QAAA,GAAAC,OAAA,GAAA,SAAAC,aAAAC,OAAAJ,OAAA,GAAAK,SAAAD,OAAA,EAAAJ,OAAA,EAAAM,QAAAxB,SAAAC,eAAA,cAAAC,UAAAkB,QAAAD,QAAAM,QAAAL,OAAA,IAAA,SAAAM,YAAAF,OAAA,EAAAxB,SAAAC,eAAA,cAAAC,WAAAF,SAAAC,eAAA,UAAAC,UAAA,IAAA,SAAAyB,WAAA,IAAAjB,EAAAV,SAAAC,eAAA,UAAAU,EAAAX,SAAAC,eAAA,cAAA,KAAAS,EAAAR,UAAA0B,OAAA,GAAAjB,EAAAT,WAAAQ,EAAAR,UAAA,IAAAS,EAAAT,WAAA,IAAAQ,EAAAR,UAAA,IAAA2B,OAAA,EAAA,SAAAC,MAAApB,GAAA,IAAAC,EAAAX,SAAAC,eAAA,UAAAc,EAAAf,SAAAC,eAAA,cAAA,GAAA8B,MAAApB,EAAAT,aAAAS,EAAAT,UAAA,IAAAc,MAAA,cAAAe,MAAArB,GAAA,OAAAA,GAAA,IAAA,IAAAK,EAAAb,UAAA,GAAAS,EAAAT,UAAA,IAAAiB,QAAA,GAAAM,QAAA,GAAAL,OAAA,GAAAF,OAAAK,MAAA,EAAAS,MAAAC,MAAAJ,MAAAP,MAAAY,MAAAV,OAAA,EAAAW,OAAA,EAAAvB,gBAAA,MAAA,IAAA,KAAAD,EAAAT,UAAA,IAAAgC,MAAAL,OAAA,EAAAjB,gBAAAqB,QAAAlB,EAAAb,UAAA,GAAA+B,OAAA,GAAA,MAAA,IAAA,MAAA,GAAAf,OAAA,CAAAC,QAAAA,QAAAiB,OAAAjB,QAAAkB,QAAA,KAAA,GAAAtB,EAAAb,UAAAkB,OAAAD,QAAA,KAAAD,SAAAH,EAAAb,UAAAkB,OAAAD,QAAA,IAAA,MAAA,GAAAG,MAAA,CAAAP,EAAAK,OAAAE,OAAA,EAAA,MAAA,GAAAY,MAAA,CAAAvB,EAAAT,UAAAS,EAAAT,UAAAkC,OAAA,EAAAzB,EAAAT,UAAAoC,OAAA,GAAA,MAAA,OAAA3B,EAAAT,YAAAS,EAAAT,UAAA,QAAA,MAAAkB,OAAA,GAAAT,EAAAT,UAAAqC,KAAAC,MAAA7B,EAAAT,UAAA,IAAA,OAAAS,EAAAT,YAAAS,EAAAT,UAAA,KAAAS,EAAAT,UAAAuC,SAAA,OAAA9B,EAAAT,UAAA,KAAAU,gBAAAqB,QAAAlB,EAAAb,UAAA,GAAA+B,OAAA,GAAA,MAAA,IAAA,IAAA,IAAAX,OAAAJ,OAAA,KAAAI,OAAA,EAAAJ,OAAA,EAAAH,EAAAK,QAAAa,QAAAlB,EAAAb,UAAA,GAAA+B,OAAA,GAAAtB,EAAAT,UAAAuC,SAAA,KAAA,MAAA9B,EAAAT,WAAA,IAAA8B,OAAA,EAAA,MAAA,IAAA,IAAA,GAAAX,YAAAY,QAAAlB,EAAAb,UAAA,GAAA+B,OAAA,GAAAC,QAAAvB,EAAAT,UAAAS,EAAAT,UAAAkC,OAAA,EAAAzB,EAAAT,UAAAoC,OAAA,IAAA3B,EAAAT,UAAAS,EAAAT,UAAAkC,OAAA,EAAAzB,EAAAT,UAAAoC,OAAAf,OAAA,KAAAZ,EAAAT,UAAAS,EAAAT,UAAA,KAAA,MAAAS,EAAAT,UAAAS,EAAAT,UAAA,IAAAS,EAAAT,WAAAS,EAAAT,WAAAwC,SAAA/B,EAAAT,WAAA,CAAAc,MAAA,4BAAAL,EAAAT,UAAAW,IAAA,MAAA,IAAA,IAAA8B,EAAA,EAAAA,EAAApB,QAAAoB,EAAAhC,EAAAT,WAAA,IAAAgC,QAAAvB,EAAAT,WAAA,OAAA8B,OAAA,EAAA,MAAA,IAAA,IAAA,GAAAC,MAAA,MAAA,IAAA,GAAAf,QAAAI,QAAAa,OAAAN,OAAAL,QAAAT,EAAAb,WAAAS,EAAAT,WAAA2B,OAAAF,WAAAH,OAAAE,YAAAT,WAAAtB,WAAAoB,EAAAb,WAAAQ,EAAA,MAAAA,GAAAE,gBAAAD,EAAAT,UAAA,UAAA8B,MAAAV,MAAAO,MAAAK,MAAAX,MAAAC,OAAA,EAAAW,MAAAF,OAAA,EAAA,MAAA,IAAA,IAAAA,QAAAlB,EAAAb,UAAA,GAAA+B,OAAA,GAAAlB,EAAAb,WAAAQ,EAAA,MAAA,IAAA,IAAAuB,QAAAlB,EAAAb,UAAA,GAAA+B,OAAA,GAAAE,OAAA,EAAA,GAAAjB,QAAAK,OAAAD,QAAAP,EAAAb,WAAAS,EAAAT,UAAAgC,OAAA,EAAAF,OAAA,GAAAjB,EAAAb,WAAA,IAAA,MAAA,IAAA,OAAA,IAAA,MAAAQ,EAAAA,EAAA0B,OAAA,EAAA1B,EAAA4B,OAAA,GAAA,IAAA,MAAA,IAAA,OAAA,IAAA,MAAA,IAAA,OAAA,IAAA,MAAA,IAAA,KAAA,IAAA,MAAA,IAAA,OAAA,GAAAL,QAAAlB,EAAAb,UAAA,GAAA+B,OAAA,IAAAE,MAAA,MAAA,GAAAN,MAAA,MAAAL,OAAAE,YAAA,IAAAP,UAAA,IAAAC,SAAAA,OAAAL,EAAAb,WAAAiB,QAAAR,EAAAT,WAAAiB,QAAAT,EAAA,IAAAS,QAAAJ,EAAAb,UAAAkB,OAAAD,UAAAD,OAAAc,OAAA,EAAA,MAAA,IAAA,MAAA,GAAAC,QAAAlB,EAAAb,UAAA,GAAA+B,OAAA,GAAAJ,MAAA,MAAAR,YAAAa,OAAAvB,EAAAT,UAAAS,EAAAT,UAAAkC,OAAA,EAAAzB,EAAAT,UAAAoC,OAAA,GAAAJ,OAAA,IAAAvB,EAAAT,WAAA,MAAAgC,OAAA,GAAA,MAAA,IAAA,IAAAxB,EAAA,UAAA,IAAA,MAAA,OAAAA,IAAAA,EAAA,UAAA,IAAA,MAAA,IAAA,MAAA,GAAAuB,QAAAlB,EAAAb,UAAA,GAAA+B,OAAA,GAAAJ,MAAA,MAAAZ,WAAAP,EAAAA,EAAA0B,OAAA,GAAA,IAAAhB,SAAAA,OAAAL,EAAAb,YAAAoB,OAAA,GAAAJ,QAAAiB,QAAApB,EAAAb,WAAAS,EAAAT,UAAAuB,SAAAd,EAAAT,WAAAoB,OAAA,EAAAP,EAAAb,WAAAQ,EAAAe,SAAAf,EAAAsB,OAAA,EAAA,MAAA,IAAA,KAAA,GAAAC,QAAAlB,EAAAb,UAAA,GAAA+B,OAAA,GAAAJ,MAAA,MAAAR,YAAAa,QAAAvB,EAAAT,UAAAS,EAAAT,UAAAkC,OAAA,EAAAzB,EAAAT,UAAAoC,OAAA,IAAA3B,EAAAT,WAAA,MAAAqB,MAAAW,QAAAvB,EAAAT,WAAA,OAAA8B,OAAA,EAAA,MAAA,IAAA,MAAA,GAAAC,QAAAlB,EAAAb,UAAA,GAAA+B,OAAA,GAAAZ,YAAAQ,MAAA,MAAAlB,EAAAT,UAAAS,EAAAT,UAAA0C,QAAA,OAAA,IAAAjC,EAAAT,UAAAS,EAAAT,UAAA0C,QAAA,KAAA,IAAAV,OAAA,EAAAL,OAAA,EAAAN,MAAA,EAAAS,OAAA,EAAAjB,EAAAb,WAAA,IAAAS,EAAAT,UAAAS,EAAAT,UAAAuC,SAAA,OAAA1B,EAAAb,WAAA,KAAAa,EAAAb,WAAA,IAAA,MAAA,IAAA,IAAA,GAAA2B,MAAA,MAAAR,YAAAa,OAAA,EAAAX,MAAA,EAAAS,OAAA,EAAAC,OAAA,EAAAtB,EAAAT,UAAA,IAAA,MAAA,IAAA,MAAA+B,QAAAlB,EAAAb,UAAA,GAAA+B,OAAA,GAAAhB,WAAAK,OAAAE,QAAAW,MAAAX,OAAAE,YAAAX,EAAAb,WAAAS,EAAAT,UAAAS,EAAAT,UAAAS,EAAAT,UAAAkC,OAAA,EAAAzB,EAAAT,UAAAoC,OAAA,EAAAJ,OAAAA,OAAA,EAAAV,OAAA,EAAAD,MAAA,EAAAS,OAAA,EAAAjB,EAAAb,WAAA,OAAA,MAAA,IAAA,MAAAQ,EAAA,IAAA,QAAAuB,QAAAlB,EAAAb,UAAA,GAAA+B,OAAA,GAAA,IAAAY,EAAA3B,OAAAD,WAAA4B,EAAA,GAAAhB,OAAAP,QAAAa,QAAApB,EAAAb,WAAAS,EAAAT,WAAA2B,OAAAF,WAAAH,OAAAE,YAAAX,EAAAb,WAAAQ,EAAAsB,OAAA,EAAAV,OAAA,EAAAY,OAAA,EAAAX,OAAA,EAAAY,OAAA,MAAA,CAAA,GAAAd,YAAAY,QAAAlB,EAAAb,UAAA,GAAAS,EAAAT,UAAA,IAAA+B,OAAA,GAAA,KAAAtB,EAAAT,WAAA8B,MAAA,OAAArB,EAAAT,UAAAQ,EAAAE,qBAAAoB,OAAA,GAAAE,QAAAvB,EAAAT,UAAAS,EAAAT,UAAAkC,OAAA,EAAAzB,EAAAT,UAAAoC,OAAA,IAAA3B,EAAAT,UAAAS,EAAAT,UAAAkC,OAAA,EAAAzB,EAAAT,UAAAoC,OAAAf,OAAAZ,EAAAT,WAAAQ,EAAA,IAAA,IAAAoC,EAAA,EAAAA,EAAAvB,QAAAuB,EAAAnC,EAAAT,WAAA,IAAAgC,QAAAvB,EAAAT,WAAA,OAAAU,iBAAA,IAAAoB,OAAA,EAAAC,OAAA,EAAAf,OAAA,EAAAI,OAAA,EAAAO,OAAA,EAAAK,OAAA,EAAAX,MAAA,EAAAY,OAAA,EAAAX,OAAA,EAAAL,QAAA,GAAAM,QAAA,GAAAL,OAAA,GAAAf,eAAA,wBAAAO,cAAA,WAAA,IAAAF,EAAAV,SAAAC,eAAA,UAAAU,EAAA,IAAA,GAAAD,EAAAqC,MAAAC,UAAArC,GAAA,KAAA,WAAAD,EAAAuC,YAAAvC,EAAAwC,aAAAxC,EAAAyC,aAAAzC,EAAA0C","file":"calculator.js","sourcesContent":["\"use strict\";function Req_ajax(){$.ajax({data:{info:document.getElementById(\"operations\").innerHTML,type:\"post\"},url:OL_Action_Root+\"/req_cal\",dataType:\"json\",cache:!1,timeout:5e3,type:\"post\",success:function(e){var n=e;\"success\"==n[0]?(document.getElementById(\"number\").innerHTML=n[1],clearOverflow()):\"NaN\"==n[0]?document.getElementById(\"number\").innerHTML=NaN:document.getElementById(\"number\").innerHTML=\"INVALID\"},error:function(e,n,i){document.getElementById(\"number\").innerHTML=\"TIMEOUT\",alert(\"Timeout! Please check your network connection!\")}})}function autoFill(){for(var e=document.getElementById(\"operations\");isFunc>0;--isFunc)e.innerHTML+=\")\";tempOpr=\"\",oriOpr=\"\"}function clearFunc(){(isPow||isFunc>0||isLev)&&(isPow=!1,isFunc=0,isRot||(document.getElementById(\"operations\").innerHTML=oriOpr),tempOpr=tempPow=oriOpr=\"\")}function rootSolve(){isRot=!1,document.getElementById(\"operations\").innerHTML+=document.getElementById(\"number\").innerHTML+\")\"}function expSolve(){var e=document.getElementById(\"number\"),n=document.getElementById(\"operations\");\"-\"==e.innerHTML.charAt(0)?n.innerHTML+=e.innerHTML+\")\":n.innerHTML+=\"+\"+e.innerHTML+\")\",isExp=!1}function input(e){var n=document.getElementById(\"number\"),i=document.getElementById(\"operations\");if(isNaN(n.innerHTML)&&(n.innerHTML=\"0\",alert(\"replaced!\")),isNaN(e))switch(e){case\"C\":i.innerHTML=\"\",n.innerHTML=\"0\",tempOpr=\"\",tempPow=\"\",oriOpr=\"\",isFunc=isLev=0,isNew=isEnd=isExp=isPow=isDeg=isRot=!1,isOpr=!0,clearOverflow();break;case\"CE\":n.innerHTML=\"0\",isDeg=isExp=!1,clearOverflow(),isEnd&&(i.innerHTML=\"\",isEnd=!1);break;case\"Del\":if(isFunc){tempOpr=tempOpr.substr(tempOpr.indexOf(\"(\")+1),i.innerHTML=oriOpr+tempOpr,0==--isFunc&&(i.innerHTML=oriOpr,tempOpr=\"\");break}if(isPow){i=oriOpr,isPow=!1;break}if(isDeg){n.innerHTML=n.innerHTML.substr(0,n.innerHTML.length-4)+\"deg\",\"deg\"==n.innerHTML&&(n.innerHTML=\"0deg\");break}oriOpr=\"\",n.innerHTML=Math.trunc(n.innerHTML/10),\"NaN\"==n.innerHTML&&(n.innerHTML=\"0\"),n.innerHTML.includes(\"e\")&&(n.innerHTML=\"0\"),clearOverflow(),isEnd&&(i.innerHTML=\"\",isEnd=!1);break;case\".\":if((isPow||isFunc>0)&&(isPow=!1,isFunc=0,i=oriOpr),isEnd&&(i.innerHTML=\"\",isEnd=!1),n.innerHTML.includes(\".\"))break;n.innerHTML+=\".\",isNew=!1;break;case\"±\":if(clearFunc(),isEnd&&(i.innerHTML=\"\",isEnd=!1),isDeg&&(n.innerHTML=n.innerHTML.substr(0,n.innerHTML.length-3)),n.innerHTML=n.innerHTML.substr(0,n.innerHTML.length-isLev),\"π\"==n.innerHTML?n.innerHTML=\"-π\":\"-π\"==n.innerHTML?n.innerHTML=\"π\":n.innerHTML=-n.innerHTML,!isFinite(n.innerHTML)){alert(\"The number is too large.\"),n.innerHTML=NaN;break}for(var r=0;r<isLev;++r)n.innerHTML+=\"!\";isDeg&&(n.innerHTML+=\"deg\"),isNew=!1;break;case\"=\":if(isEnd)break;try{0!=isFunc||isPow||!isOpr||isExp||isRot||(i.innerHTML+=n.innerHTML),isExp&&expSolve(),isRot&&rootSolve(),autoFill(),Req_ajax(),i.innerHTML+=e}catch(e){clearOverflow(),n.innerHTML=\"INVALID\"}isNew=isPow=isExp=isDeg=isLev=isRot=!1,isOpr=isEnd=!0;break;case\"(\":isEnd&&(i.innerHTML=\"\",isEnd=!1),i.innerHTML+=e;break;case\")\":isEnd&&(i.innerHTML=\"\",isEnd=!1),isOpr=!1,0!=isFunc||isLev||isPow||(i.innerHTML+=n.innerHTML,isDeg=!1,isNew=!0),i.innerHTML+=\")\";break;case\"10^x\":case\"e^x\":e=e.substr(0,e.length-1);case\"sin\":case\"asin\":case\"cos\":case\"acos\":case\"log\":case\"ln\":case\"tan\":case\"atan\":if(isEnd&&(i.innerHTML=\"\",isEnd=!1),!isOpr)break;if(isExp)break;isRot&&rootSolve(),\"\"==tempOpr&&(\"\"==oriOpr&&(oriOpr=i.innerHTML),tempOpr=n.innerHTML),tempOpr=e+\"(\"+tempOpr,i.innerHTML=oriOpr+tempOpr,++isFunc,isNew=!0;break;case\"deg\":if(isEnd&&(i.innerHTML=\"\",isEnd=!1),isExp)break;clearFunc(),isDeg?(n.innerHTML=n.innerHTML.substr(0,n.innerHTML.length-3),isDeg=!1):(n.innerHTML+=\"deg\",isDeg=!0);break;case\"√\":e=\"x^(1/2)\";case\"1/x\":\"1/x\"==e&&(e=\"x^(-1)\");case\"x^2\":case\"x^3\":if(isEnd&&(i.innerHTML=\"\",isEnd=!1),isExp)break;autoFill(),e=e.substr(1),\"\"==oriOpr&&(oriOpr=i.innerHTML),!isPow&&0==isFunc&&isOpr&&(i.innerHTML+=n.innerHTML,tempPow+=n.innerHTML),isPow=!0,i.innerHTML+=e,tempPow+=e,isNew=!0;break;case\"n!\":if(isEnd&&(i.innerHTML=\"\",isEnd=!1),isExp)break;clearFunc(),isDeg&&(n.innerHTML=n.innerHTML.substr(0,n.innerHTML.length-3)),n.innerHTML+=\"!\",++isLev,isDeg&&(n.innerHTML+=\"deg\"),isNew=!1;break;case\"Exp\":if(isEnd&&(i.innerHTML=\"\",isEnd=!1),clearFunc(),isExp)break;n.innerHTML=n.innerHTML.replace(/deg/g,\"\"),n.innerHTML=n.innerHTML.replace(/!/g,\"\"),isDeg=!1,isExp=!0,isLev=0,isNew=!0,i.innerHTML+=\"(\"+n.innerHTML,n.innerHTML.includes(\".\")||(i.innerHTML+=\".\"),i.innerHTML+=\"e\";break;case\"π\":if(isExp)break;clearFunc(),isDeg=!1,isLev=0,isNew=!0,isEnd=!1,n.innerHTML=\"π\";break;case\"y√x\":isEnd&&(i.innerHTML=\"\",isEnd=!1),autoFill(),isPow||isRot||!isOpr?isRot&&rootSolve():i.innerHTML+=n.innerHTML,n.innerHTML=n.innerHTML.substr(0,n.innerHTML.length-3*isDeg),isDeg=!1,isRot=!0,isLev=0,isNew=!0,i.innerHTML+=\"^(1/\";break;case\"x^y\":e=\"^\";default:isEnd&&(i.innerHTML=\"\",isEnd=!1);var s=isFunc;autoFill(),s>0||isExp||isPow||!isOpr||(i.innerHTML+=n.innerHTML),isExp&&expSolve(),isRot&&rootSolve(),i.innerHTML+=e,isNew=!0,isPow=!1,isDeg=!1,isLev=!1,isOpr=!0}else{if(clearFunc(),isEnd&&(i.innerHTML=\"\",n.innerHTML=\"0\",isEnd=!1),\"0\"==n.innerHTML||isNew)return n.innerHTML=e,clearOverflow(),void(isNew=!1);isDeg&&(n.innerHTML=n.innerHTML.substr(0,n.innerHTML.length-3)),n.innerHTML=n.innerHTML.substr(0,n.innerHTML.length-isLev),n.innerHTML+=e;for(var t=0;t<isLev;++t)n.innerHTML+=\"!\";isDeg&&(n.innerHTML+=\"deg\"),clearOverflow()}}var isNew=!1,isEnd=!1,isFunc=0,isPow=!1,isExp=!1,isDeg=!1,isLev=0,isOpr=!0,isRot=!1,tempOpr=\"\",tempPow=\"\",oriOpr=\"\",OL_Action_Root=\"http://127.0.0.1:8888\",clearOverflow=function(){var e=document.getElementById(\"number\"),n=140;do{e.style.fontSize=(n/=1.2)+\"pt\"}while(e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight)};\n//# sourceMappingURL=calculator.js.map\n"]}